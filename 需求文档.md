# 一、项目概述

## 1.1 项目背景

随着社交媒体（尤其是微信朋友圈）的高频使用，用户在发布图片时往往面临“不会配文案”“文案不够有感觉”“想要不同风格表达”的问题。本项目旨在通过 AI 自动理解用户上传的图片内容，并生成多种风格的朋友圈文案，帮助用户高效、自然地完成社交表达。

## 1.2 项目目标

- 实现基于图片内容的自动文案生成
- 支持多种朋友圈常见文案风格
- 提供简单易用的前端交互体验
- 构建可扩展的 AI Agent 架构，便于后期功能增强与商业化

## 1.3 目标用户

- 普通微信用户（发朋友圈频繁）
- 自媒体 / 内容创作者
- 社交媒体运营人员
- 不擅长文字表达但有分享需求的用户

------

# 二、产品功能需求（PRD）

## 2.1 核心功能

### 2.1.1 图片上传

- 支持 JPG / PNG 格式
- 支持拖拽上传与点击上传
- 上传后展示图片预览
- 单次仅支持一张图片（MVP 阶段）

### 2.1.2 文案风格选择

支持多选文案风格：

- 文艺
- 搞笑
- 高级感
- 治愈
- 情绪低落 / 丧
- 恋爱脑

（风格以 Tag 形式展示）

### 2.1.3 文案生成

- 根据图片内容自动生成文案
- 每种风格默认生成 2~3 条文案
- 文案符合朋友圈真实使用语境
- 支持 emoji（可开关）

### 2.1.4 结果展示

- 按风格分组展示生成结果
- 支持一键复制文案
- 支持重新生成

------

## 2.2 非核心功能（后续迭代）

- 文案收藏
- 历史生成记录
- 文案点赞 / 不喜欢反馈
- 文案长度选择（短 / 中 / 长）
- 爆款模板模式

------

# 三、用户使用流程

1. 用户进入首页
2. 上传图片
3. 选择一个或多个文案风格
4. 点击“生成文案”按钮
5. 系统分析图片并生成文案
6. 用户查看结果并复制使用

------

# 四、系统架构设计

## 4.1 总体架构

前端（Vue） → 后端 API（FastAPI） → AI Agent（图像理解 + 文案生成）

## 4.2 技术选型

### 前端

- Vue 3
- Vite
- Element Plus / Naive UI
- Axios

### 后端

- Python 3.10+
- FastAPI
- Uvicorn
- Pydantic
- Pillow（图片处理）

### AI 模型

- 多模态大模型（支持图片 + 文本输入）

------

# 五、后端详细设计

## 5.1 接口设计

### 5.1.1 生成文案接口

**接口地址**
POST /api/generate/caption

**请求参数**

- image：图片文件（multipart/form-data）
- styles：文案风格列表（JSON 数组）
- emoji：是否使用 emoji（boolean）

**返回结果**

- image_summary：图片文字描述
- captions：按风格分类的文案列表

------

## 5.2 Agent 设计

### 5.2.1 图片理解 Agent

职责：

- 识别图片场景
- 提取人物、环境、氛围
- 输出适合生成文案的结构化信息

输出示例：

- 场景：海边日落
- 情绪：安静、治愈
- 关键词：海风、黄昏、自由

### 5.2.2 文案生成 Agent

职责：

- 根据图片语义 + 风格约束生成文案
- 控制语言自然度与社交感
- 保证不同风格差异明显

### 5.2.3 风格管理模块

- 预定义风格提示词
- 风格描述可配置
- 支持后期新增风格

------

# 六、前端设计说明

## 6.1 页面结构

### 首页

- 图片上传区域
- 风格选择区域
- 生成按钮

### 结果页

- 按风格展示生成文案
- 一键复制按钮
- 重新生成按钮

## 6.2 交互设计要点

- 上传后即时预览图片
- 生成过程中显示 loading 动画
- 错误提示清晰（如未上传图片）

------

# 七、非功能性需求

## 7.1 性能要求

- 单次生成响应时间 ≤ 10 秒
- 支持并发用户请求（基础版 50 并发）

## 7.2 可扩展性

- Agent 模块可拆分
- 支持替换或升级 AI 模型

## 7.3 安全性

- 限制上传文件大小
- 校验文件类型
- 防止接口滥用（限流）

------

# 八、MVP 版本范围

包含：

- 图片上传
- 3~5 种固定风格
- 文案生成
- 结果复制

不包含：

- 登录系统
- 数据持久化
- 商业化功能

------

# 九、后续迭代规划

## 阶段一

- 上线 MVP
- 收集用户反馈

## 阶段二

- 用户系统
- 历史记录与收藏

## 阶段三

- 个性化风格
- 商业化（会员 / 风格包）

------

# 十、项目价值总结

本项目以真实社交场景为切入点，结合多模态 AI 能力，具备较强的实用性与商业潜力，适合个人项目、产品化或创业方向持续迭代。